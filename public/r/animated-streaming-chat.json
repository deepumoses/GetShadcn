{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "animated-streaming-chat",
  "title": "Animated Streaming Chat",
  "dependencies": [
    "framer-motion"
  ],
  "files": [
    {
      "path": "registry/pages/ai-chats/animated-streaming-chat.tsx",
      "content": "\"use client\"\n\nimport React, { useState, useEffect, useRef } from \"react\"\nimport { motion, AnimatePresence } from \"framer-motion\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Button } from \"@/components/ui/button\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\n\nexport default function AnimatedStreamingChat() {\n  const [messages, setMessages] = useState<{role: 'user' | 'assistant', content: string}[]>([\n    { role: 'assistant', content: \"Hi! I am an AI assistant powered by Framer Motion and shadcn/ui. How can I help you explore the universe today?\" }\n  ])\n  const [input, setInput] = useState(\"\")\n  const [isTyping, setIsTyping] = useState(false)\n  const bottomRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    bottomRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }, [messages, isTyping])\n\n  const handleSend = () => {\n    if(!input.trim()) return\n    const userMsg = input\n    setMessages(prev => [...prev, {role: 'user', content: userMsg}])\n    setInput(\"\")\n    setIsTyping(true)\n\n    // Simulate network delay then streaming\n    setTimeout(() => {\n      setIsTyping(false)\n      const response = \"This is a simulated streamed response showcasing how markdown and typewriter effects handle character-by-character rendering without causing layout shifts or jarring jumps in the UI. We utilize Framer Motion to animate the bubble entrance.\"\n      let currentText = \"\"\n      const interval = setInterval(() => {\n        if(currentText.length < response.length) {\n          currentText += response[currentText.length]\n          setMessages(prev => {\n            const newMsgs = [...prev]\n            if(newMsgs[newMsgs.length - 1].role === 'assistant') {\n              newMsgs[newMsgs.length - 1].content = currentText\n            } else {\n              newMsgs.push({ role: 'assistant', content: currentText })\n            }\n            return newMsgs\n          })\n        } else {\n          clearInterval(interval)\n        }\n      }, 20)\n    }, 1000)\n  }\n\n  return (\n    <div className=\"flex flex-col h-screen max-w-3xl mx-auto w-full border-l border-r bg-background\">\n      <header className=\"p-4 border-b flex justify-center items-center backdrop-blur-md sticky top-0 z-10 bg-background/80\">\n        <h1 className=\"font-semibold bg-gradient-to-r from-primary to-blue-500 bg-clip-text text-transparent\">Nexus AI</h1>\n      </header>\n      \n      <ScrollArea className=\"flex-1 p-4\">\n        <div className=\"space-y-6 flex flex-col pb-20\">\n          <AnimatePresence>\n            {messages.map((msg, i) => (\n              <motion.div \n                key={i} \n                initial={{ opacity: 0, y: 10, scale: 0.95 }}\n                animate={{ opacity: 1, y: 0, scale: 1 }}\n                transition={{ duration: 0.3, type: \"spring\", stiffness: 200, damping: 20 }}\n                className={\\`flex \\${msg.role === 'user' ? 'justify-end' : 'justify-start'}\\`}\n              >\n                <div className={\\`max-w-[85%] rounded-2xl px-4 py-3 \\${msg.role === 'user' ? 'bg-primary text-primary-foreground' : 'bg-muted border shadow-sm'}\\`}>\n                  {msg.content}\n                </div>\n              </motion.div>\n            ))}\n            {isTyping && (\n              <motion.div\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"flex justify-start\"\n              >\n                <div className=\"bg-muted rounded-2xl px-4 py-3 border shadow-sm flex space-x-2 items-center h-12\">\n                   <motion.div className=\"w-2 h-2 rounded-full bg-primary/50\" animate={{ y: [0,-5,0] }} transition={{ repeat: Infinity, duration: 0.6, delay: 0 }} />\n                   <motion.div className=\"w-2 h-2 rounded-full bg-primary/50\" animate={{ y: [0,-5,0] }} transition={{ repeat: Infinity, duration: 0.6, delay: 0.2 }} />\n                   <motion.div className=\"w-2 h-2 rounded-full bg-primary/50\" animate={{ y: [0,-5,0] }} transition={{ repeat: Infinity, duration: 0.6, delay: 0.4 }} />\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n          <div ref={bottomRef} />\n        </div>\n      </ScrollArea>\n\n      <div className=\"p-4 bg-background/80 backdrop-blur-md border-t\">\n        <div className=\"relative flex items-end shadow-sm rounded-xl overflow-hidden border focus-within:ring-1 focus-within:border-primary\">\n          <Textarea \n            value={input}\n            onChange={e => setInput(e.target.value)}\n            placeholder=\"Send a message...\" \n            className=\"min-h-[60px] w-full resize-none border-0 shadow-none focus-visible:ring-0 rounded-none bg-background pr-12 py-3\"\n            onKeyDown={(e) => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault()\n                handleSend()\n              }\n            }}\n          />\n          <Button \n            size=\"icon\" \n            onClick={handleSend}\n            disabled={!input.trim() || isTyping}\n            className=\"absolute right-2 bottom-2 rounded-full h-8 w-8 transition-transform active:scale-95\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"h-4 w-4\"><path d=\"M5 12h14\"/><path d=\"m12 5 7 7-7 7\"/></svg>\n          </Button>\n        </div>\n        <div className=\"text-center text-xs text-muted-foreground mt-2\">AI can make mistakes. Verify important information.</div>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:block"
    }
  ],
  "type": "registry:block"
}