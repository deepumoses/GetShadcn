{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "animated-beam",
  "title": "Animated Beam",
  "description": "An animated beam connecting two points.",
  "dependencies": [
    "motion",
    "clsx",
    "tailwind-merge"
  ],
  "files": [
    {
      "path": "registry/ui/animated-beam.tsx",
      "content": "\"use client\"\n\nimport { useMotionValue, motion, useMotionTemplate } from \"motion/react\"\nimport React, { MouseEvent as ReactMouseEvent } from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface AnimatedBeamProps {\n  className?: string\n  containerRef: React.RefObject<HTMLElement>\n  fromRef: React.RefObject<HTMLElement>\n  toRef: React.RefObject<HTMLElement>\n  curvature?: number\n  reverse?: boolean\n  pathColor?: string\n  pathWidth?: number\n  pathOpacity?: number\n  gradientStartColor?: string\n  gradientStopColor?: string\n  delay?: number\n  duration?: number\n  startXOffset?: number\n  startYOffset?: number\n  endXOffset?: number\n  endYOffset?: number\n}\n\nexport const AnimatedBeam: React.FC<AnimatedBeamProps> = ({\n  className,\n  containerRef,\n  fromRef,\n  toRef,\n  curvature = 0,\n  reverse = false, // TODO: reverse\n  duration = Math.random() * 3 + 4,\n  delay = 0,\n  pathColor = \"gray\",\n  pathWidth = 2,\n  pathOpacity = 0.2,\n  gradientStartColor = \"#ffaa40\",\n  gradientStopColor = \"#9c40ff\",\n  startXOffset = 0,\n  startYOffset = 0,\n  endXOffset = 0,\n  endYOffset = 0,\n}) => {\n  const id = React.useId()\n  const [pathD, setPathD] = React.useState(\"\")\n  const [svgDimensions, setSvgDimensions] = React.useState({ width: 0, height: 0 })\n\n  // Calculate the bezier path\n  React.useEffect(() => {\n    const updatePath = () => {\n      if (containerRef.current && fromRef.current && toRef.current) {\n        const containerRect = containerRef.current.getBoundingClientRect()\n        const rectA = fromRef.current.getBoundingClientRect()\n        const rectB = toRef.current.getBoundingClientRect()\n\n        const svgWidth = containerRect.width\n        const svgHeight = containerRect.height\n        setSvgDimensions({ width: svgWidth, height: svgHeight })\n\n        const startX =\n          rectA.left - containerRect.left + rectA.width / 2 + startXOffset\n        const startY =\n          rectA.top - containerRect.top + rectA.height / 2 + startYOffset\n        const endX =\n          rectB.left - containerRect.left + rectB.width / 2 + endXOffset\n        const endY =\n          rectB.top - containerRect.top + rectB.height / 2 + endYOffset\n\n        const controlY = startY - curvature\n        const d = `M ${startX},${startY} Q ${\n          (startX + endX) / 2\n        },${controlY} ${endX},${endY}`\n        setPathD(d)\n      }\n    }\n\n    // Initialize ResizeObserver\n    const resizeObserver = new ResizeObserver((entries) => {\n      // For all entries, recalculate the path\n      for (let entry of entries) {\n        updatePath()\n      }\n    })\n\n    // Observe the container element\n    if (containerRef.current) {\n      resizeObserver.observe(containerRef.current)\n    }\n\n    // Call updatePath initially to set the path\n    updatePath()\n\n    // Clean up the observer on component unmount\n    return () => {\n      resizeObserver.disconnect()\n    }\n  }, [\n    containerRef,\n    fromRef,\n    toRef,\n    curvature,\n    startXOffset,\n    startYOffset,\n    endXOffset,\n    endYOffset,\n  ])\n\n  return (\n    <svg\n      fill=\"none\"\n      width={svgDimensions.width}\n      height={svgDimensions.height}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\n        \"pointer-events-none absolute left-0 top-0 transform-gpu stroke-2\",\n        className,\n      )}\n      viewBox={`0 0 ${svgDimensions.width} ${svgDimensions.height}`}\n    >\n      <path\n        d={pathD}\n        stroke={pathColor}\n        strokeWidth={pathWidth}\n        strokeOpacity={pathOpacity}\n        strokeLinecap=\"round\"\n      />\n      <path\n        d={pathD}\n        stroke={`url(#${id})`}\n        strokeWidth={pathWidth}\n        strokeLinecap=\"round\"\n        strokeDasharray=\"20 20\"\n        strokeDashoffset=\"-20\"\n      >\n        <animate\n          attributeName=\"stroke-dashoffset\"\n          values=\"0;-40\"\n          dur={`${duration}s`}\n          repeatCount=\"indefinite\"\n        />\n      </path>\n      <defs>\n        <linearGradient\n          id={id}\n          gradientUnits=\"userSpaceOnUse\"\n          x1=\"0%\"\n          x2=\"100%\"\n          y1=\"0%\"\n          y2=\"0%\"\n        >\n          <stop offset=\"0%\" stopColor={gradientStartColor} stopOpacity=\"0\"></stop>\n          <stop offset=\"50%\" stopColor={gradientStartColor}></stop>\n          <stop offset=\"100%\" stopColor={gradientStopColor} stopOpacity=\"0\"></stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:component"
}