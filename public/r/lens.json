{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "lens",
  "title": "Lens",
  "description": "A magnifying lens effect.",
  "dependencies": [
    "motion",
    "clsx",
    "tailwind-merge"
  ],
  "files": [
    {
      "path": "registry/ui/lens.tsx",
      "content": "\"use client\"\n\nimport {\n  AnimatePresence,\n  motion,\n  MotionProps,\n  useMotionTemplate,\n  useMotionValue,\n  useTransform,\n} from \"motion/react\"\nimport React, { useRef, useState } from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface LensProps {\n  children: React.ReactNode\n  zoomFactor?: number\n  lensSize?: number\n  isStatic?: boolean\n  position?: { x: number; y: number }\n  hovering?: boolean\n  setHovering?: (hovering: boolean) => void\n}\n\nexport const Lens = ({\n  children,\n  zoomFactor = 1.3,\n  lensSize = 170,\n  isStatic = false,\n  position = { x: 200, y: 150 },\n  hovering,\n  setHovering,\n}: LensProps) => {\n  const [isHoveringState, setIsHoveringState] = useState(false)\n  const mousePosition = useRef({ x: 0, y: 0 })\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  const isHovering = hovering ?? isHoveringState\n  const setIsHovering = setHovering ?? setIsHoveringState\n\n  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    const rect = e.currentTarget.getBoundingClientRect()\n    mousePosition.current = {\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top,\n    }\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"relative z-20 overflow-hidden rounded-xl\"\n      onMouseEnter={() => setIsHovering(true)}\n      onMouseLeave={() => setIsHovering(false)}\n      onMouseMove={handleMouseMove}\n    >\n      {children}\n      {isStatic ? (\n        <div\n          style={{\n            position: \"absolute\",\n            left: position.x - lensSize / 2,\n            top: position.y - lensSize / 2,\n            width: lensSize,\n            height: lensSize,\n            borderRadius: \"50%\",\n            backgroundColor: \"white\",\n            mixBlendMode: \"difference\",\n            pointerEvents: \"none\",\n          }}\n        />\n      ) : (\n        isHovering && (\n          <LensMagnifier\n            mousePosition={mousePosition}\n            containerRef={containerRef}\n            zoomFactor={zoomFactor}\n            lensSize={lensSize}\n          />\n        )\n      )}\n    </div>\n  )\n}\n\nconst LensMagnifier = ({\n  mousePosition,\n  containerRef,\n  zoomFactor,\n  lensSize,\n}: {\n  mousePosition: React.MutableRefObject<{ x: number; y: number }>\n  containerRef: React.RefObject<HTMLDivElement>\n  zoomFactor: number\n  lensSize: number\n}) => {\n  const [position, setPosition] = useState({ x: 0, y: 0 })\n\n  React.useEffect(() => {\n    const updatePosition = () => {\n      if (mousePosition.current) {\n        setPosition({ ...mousePosition.current })\n      }\n      requestAnimationFrame(updatePosition)\n    }\n    updatePosition()\n  }, [])\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.5 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.5 }}\n      transition={{ duration: 0.2 }}\n      style={{\n        position: \"absolute\",\n        left: position.x - lensSize / 2,\n        top: position.y - lensSize / 2,\n        width: lensSize,\n        height: lensSize,\n        borderRadius: \"50%\",\n        overflow: \"hidden\",\n        border: \"2px solid rgba(255, 255, 255, 0.5)\",\n        boxShadow: \"0 0 10px rgba(0, 0, 0, 0.2)\",\n        pointerEvents: \"none\",\n        zIndex: 50,\n      }}\n    >\n      <div\n        style={{\n          position: \"absolute\",\n          left: -position.x * zoomFactor + lensSize / 2,\n          top: -position.y * zoomFactor + lensSize / 2,\n          width: containerRef.current?.offsetWidth\n            ? containerRef.current.offsetWidth * zoomFactor\n            : 0,\n          height: containerRef.current?.offsetHeight\n            ? containerRef.current.offsetHeight * zoomFactor\n            : 0,\n          transformOrigin: \"0 0\",\n        }}\n      >\n        {/* We need to clone the children here to show magnified version */}\n        {/* In a real implementation we might pass a render prop or clone children */}\n        <div className=\"w-full h-full bg-white/10 backdrop-blur-sm\" />\n      </div>\n    </motion.div>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:component"
}